<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Nuestro Pr√≥ximo Capricho</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600&family=Montserrat:wght@300;400&display=swap" rel="stylesheet">

<style>
body{
    margin:0;
    font-family:'Montserrat', sans-serif;
    color:white;
    display:flex;
    justify-content:center;
    align-items:center;
    height:100vh;
    background-size:cover;
    background-position:center;
    transition:background-image 1s ease;
}

.overlay{
    position:absolute;
    width:100%;
    height:100%;
    background:rgba(0,0,0,0.55);
    z-index:0;
}

.container{
    position:relative;
    width:90%;
    max-width:800px;
    text-align:center;
    animation:fade 0.8s ease;
    z-index:2;
}

h1,h2{
    font-family:'Playfair Display', serif;
}

.riddle{
    font-style:italic;
    margin-bottom:25px;
    opacity:0.95;
    line-height:1.6;
}

.card{
    background: rgba(255,255,255,0.12);
    padding:20px;
    margin:15px 0;
    border-radius:20px;
    cursor:pointer;
    transition:0.3s;
}

.card:hover{
    background: rgba(255,255,255,0.25);
    transform:scale(1.05);
}

button{
    padding:12px 25px;
    border-radius:30px;
    border:none;
    font-size:16px;
    cursor:pointer;
    margin-top:15px;
}

input{
    padding:10px;
    border-radius:20px;
    border:none;
    width:200px;
    text-align:center;
}

.cinematic h1{
    font-size:48px;
    margin-top:30px;
    animation:fadeIn 2s ease forwards;
}

@keyframes fade{
    from{opacity:0; transform:translateY(20px);}
    to{opacity:1; transform:translateY(0);}
}

@keyframes fadeIn{
    from{opacity:0;}
    to{opacity:1;}
}
</style>
</head>
<body>

<div class="overlay"></div>

<div class="container" id="quiz">
    <h1>‚ú® Nuestra pr√≥xima aventura ‚ú®</h1>
    <p>Dicen que el destino no se encuentra‚Ä¶ se elige.</p>
    <button onclick="startQuiz()">Empezar</button>
</div>

<script>

let question = 1;

let scores = {
    monesterio:0,
    carnota:0,
    miluna:0,
    burgo:0
};

const backgrounds = {
    inicio:"https://images.unsplash.com/photo-1507525428034-b723cf961d3e",
    tiempo:"https://images.unsplash.com/photo-1491553895911-0055eca6402d",
    transporte:"https://images.unsplash.com/photo-1500530855697-b586d89ba3ee",
    cielo:"https://images.unsplash.com/photo-1444703686981-a3abbc4d4fe3",
    montana:"https://images.unsplash.com/photo-1501785888041-af3ef285b470",
    lujo:"https://images.unsplash.com/photo-1506744038136-46273834b3fb",
    misterio:"https://images.unsplash.com/photo-1500534623283-312aade485b7"
};

function setBackground(type){
    document.body.style.backgroundImage = `url(${backgrounds[type]})`;
}

setBackground("inicio");

function startQuiz(){
    question = 1;
    showQuestion();
}

function showQuestion(){

    const quiz = document.getElementById("quiz");

    if(question === 1){
        setBackground("tiempo");
        quiz.innerHTML = `
            <div class="riddle">
            No se compra, no se guarda,<br>
            pero cuando lo tienes‚Ä¶ vuela.<br><br>
            ¬øCu√°nto queremos que dure el nuestro?
            </div>
            <h2>¬øCu√°nto tiempo nos vamos?</h2>
            <div class="card" onclick="selectAnswer('1dia')">üåô Un d√≠a m√°gico</div>
            <div class="card" onclick="selectAnswer('masdias')">üåÑ Dos d√≠as</div>
        `;
    }

    else if(question === 2){
        setBackground("transporte");
        quiz.innerHTML = `
            <div class="riddle">
            Puede tener ruedas o alas,<br>
            puede seguir ra√≠les o nubes.<br>
            No importa c√≥mo‚Ä¶<br>
            lo importante es avanzar juntos.
            </div>
            <h2>¬øC√≥mo viajamos?</h2>
            <div class="card" onclick="selectAnswer('coche')">üöó A nuestro ritmo</div>
            <div class="card" onclick="selectAnswer('tren')">üöÜ En tren</div>
            <div class="card" onclick="selectAnswer('avion')">‚úàÔ∏è En avi√≥n</div>
        `;
    }

    else if(question === 3){
        quiz.innerHTML = `
            <div class="riddle">
            Al abrir los ojos,<br>
            lo primero que veamos<br>
            marcar√° c√≥mo empieza el d√≠a.
            </div>
            <h2>¬øQu√© miramos al despertar?</h2>
            <div class="card" onclick="selectAnswer('cielo')">üåå El cielo</div>
            <div class="card" onclick="selectAnswer('montana')">‚õ∞ La monta√±a</div>
        `;
    }

    else if(question === 4){
        setBackground("lujo");
        quiz.innerHTML = `
            <div class="riddle">
            No es cuesti√≥n de dinero,<br>
            sino de c√≥mo se siente.
            </div>
            <h2>Nivel de experiencia</h2>
            <div class="card" onclick="selectAnswer('lujoso')">‚ú® Lujoso</div>
            <div class="card" onclick="selectAnswer('lujazo')">üëë Lujazo</div>
        `;
    }

    else if(question === 5){
        setBackground("misterio");
        showRiddleFinal();
    }
}

function selectAnswer(answer){

    if(answer==="cielo") setBackground("cielo");
    if(answer==="montana") setBackground("montana");

    calculate(answer);
    question++;
    setTimeout(showQuestion,400);
}

function calculate(answer){
    switch(answer){
        case "1dia": scores.monesterio+=2; scores.miluna+=2; break;
        case "masdias": scores.carnota+=2; scores.burgo+=2; break;
        case "tren": scores.monesterio+=1; scores.carnota+=1; break;
        case "avion": scores.carnota+=2; break;
        case "coche": scores.miluna+=1; scores.burgo+=2; break;
        case "cielo": scores.monesterio+=2; scores.miluna+=2; break;
        case "montana": scores.carnota+=2; scores.burgo+=2; break;
        case "lujoso": scores.miluna+=2; break;
        case "lujazo": scores.miluna+=2; scores.carnota+=1; scores.monesterio+=1; scores.burgo+=1; break;
    }
}

function showRiddleFinal(){
    document.getElementById("quiz").innerHTML=`
        <h2>üîê Antes de descubrirlo...</h2>
        <div class="riddle">
        No tengo boca pero puedo hablar,<br>
        no tengo alas pero puedo volar.<br><br>
        Si me compartes, crezco.<br>
        Si me guardas, muero.<br><br>
        ¬øQu√© soy?
        </div>
        <input id="password" placeholder="Escribe la respuesta">
        <br>
        <button onclick="checkPassword()">Descubrir destino</button>
    `;
}

function checkPassword(){
    const input=document.getElementById("password").value.toLowerCase().trim();
    if(input==="amor"){
        cinematicReveal();
    }else{
        alert("Mmm‚Ä¶ esa no es la respuesta üí≠");
    }
}

function cinematicReveal(){

    const destinations=[
        {name:"Monesterio (Badajoz)", score:scores.monesterio},
        {name:"Nidos de Carnota (Galicia)", score:scores.carnota},
        {name:"Hotel Miluna (Toledo)", score:scores.miluna},
        {name:"Burgo de Osma (Soria)", score:scores.burgo}
    ];

    destinations.sort((a,b)=>b.score-a.score);

    setBackground("inicio");

    document.getElementById("quiz").innerHTML=`
        <div class="cinematic">
            <h2>Y el destino elegido es...</h2>
            <h1>‚ú® ${destinations[0].name} ‚ú®</h1>
            <p>Haz la maleta. Nos vamos üíõ</p>
            <button onclick='showRanking(${JSON.stringify(destinations)})'>Ver ranking completo</button>
        </div>
    `;
}

function showRanking(destinations){

    let html=`<h2>üèÜ Tu ranking de destinos, ¬øEst√°s segura de tus decisiones?</h2>`;

    destinations.forEach((d,i)=>{
        let medal=["ü•á","ü•à","ü•â","üíî"][i];
        html+=`<p>${medal} <strong>${d.name}</strong> ‚Äî ${d.score} puntos</p>`;
    });

    document.getElementById("quiz").innerHTML=html;
}

</script>

</body>
</html>
